好的，我已经仔细阅读并消化了您团队成员提供的所有需求文档。这些文档从不同角度（技术实现、用户目标、宏观愿景）描绘了一个非常激动人心的 AI 教育平台。

可以看出，团队的共识非常明确：**构建一个以“AI + OKR”为核心，覆盖学生、教师、学院三个层级，并与现有项目管理平台（AIP）打通的智能化、个性化、自动化的教育管理系统。**

下面，我将融合所有文档的精华，为您提炼出一份统一、全面且可执行的**需求规格说明书**，并提供一个清晰的网页层级结构方案。这套方案将以您之前肯定的 **"L.I.G.H.T." 架构** 为技术实现蓝图，确保方案的可靠性。

---

## AIO 智能教育平台 - 需求规格说明书 v2.0

### 1. 项目愿景与核心理念

*   **愿景**: 打造一个 AI 原生的教育环境，让每位学生都拥有专属的 AI 导师、学伴和生涯规划师。实现从“千人一面的教育”到“一人一策的成长”的根本性转变。
*   **核心理念**: **AI + OKR (目标与关键成果)**
    *   **AI**: 作为核心驱动力，将教师从重复性工作中解放出来，为学生提供个性化、全天候的支持。
    *   **OKR**: 作为管理框架，将学院的战略目标、教师的教学目标和学生的个人发展目标对齐，让成长路径清晰、可衡量、可追溯。

### 2. 用户角色与核心需求

1.  **学生**:
    *   **核心需求**: 获取个性化学习路径和资源，高效解决学习问题，清晰追踪个人成长，与项目实践无缝结合。
2.  **教师**:
    *   **核心需求**: 从繁重的批改、答疑、进度跟踪中解放，实时掌握学生全景动态，进行数据驱动的精准教学干预。
3.  **学院管理员**:
    *   **核心需求**: 宏观监控学院整体学情，优化教学资源配置，科学评估教学质量，为战略决策提供数据支持。

### 3. 系统技术架构 (L.I.G.H.T. 模型)

本平台将严格遵循 L.I.G.H.T. 架构原则，确保系统的高内聚、低耦合、高可扩展性。

*   **L (Lean Backend - 精简后端)**:
    *   **技术栈**: Vercel Serverless Functions (Python/Go)。
    *   **职责**: 仅处理核心安全任务：**用户认证**、**角色权限校验**、**支付计量**（未来）、**敏感操作的最终确认**。

*   **I (Intelligent Frontend - 智能前端)**:
    *   **技术栈**: Next.js / Vue.js, Vercel AI SDK, Supabase Realtime。
    *   **职责**: 打造极致交互体验。实现与 AI 助手的**流式对话**；通过 **Supabase Realtime** 实时更新任务、公告和 OKR 进度；利用 Vercel Edge Functions 处理路由和初步认证。

*   **G (Git-driven Workflow - Git驱动工作流)**:
    *   **技术栈**: GitHub, Vercel, Turborepo。
    *   **职责**: 项目的“唯一真相来源”。所有代码、AI Prompt 模板、n8n 工作流定义均在 Monorepo 中进行版本控制。每一次 PR 都通过 Vercel 自动生成预览环境，实现**自动化 CI/CD**。

*   **H (Hyper-scalable Data - 超大规模数据层)**:
    *   **技术栈**: **Supabase** (PostgreSQL, pgvector, Edge Functions)。
    *   **职责**: 系统的“中央图书馆”与“神经网络”。
        *   **核心数据库**: 存储用户、课程、成绩、OKR 等结构化数据。
        *   **RAG 基础设施**: 利用 `pgvector` 存储所有课程资料的向量，为 AI 问答提供知识基础。
        *   **内生逻辑引擎**: 使用 Database Triggers 和 Edge Functions (TypeScript) 实现数据层的自动化逻辑（如“学生连续三次作业低于60分则自动触发预警”）。

*   **T (Templated AI Agents - 模板化AI智能体)**:
    *   **技术栈**: **n8n**, LangGraph, YAML/JSON。
    *   **职责**: 系统的“灵魂制造工厂”，定义三级 AI 智能体的行为。
        *   **AI 编排**: **n8n** 作为核心工作流引擎，负责编排 RAG 流程（监听文档上传 -> 清洗 -> 分块 -> 嵌入 -> 索引）、复杂的 AI 决策链。
        *   **模板化定义**: 使用 YAML 文件定义每个 AI 角色的 Prompt、可用工具、知识边界，实现 AI 行为的**可灰度、可回滚**。

### 4. 核心功能模块 (三级智能体架构)

#### 4.1 学生层：AI 个人成长伙伴

*   **个性化发展计划 (PDP/OKR)**
    *   **AI 引导设定**: AI 助手引导学生结合课程目标、个人兴趣和职业规划，设定学期/学年目标 (Objective)。
    *   **关键成果拆解**: AI 自动将目标拆解为可衡量的关键成果 (Key Results)，如“完成3个实践项目”、“阅读5本专业书籍”、“算法题库刷题200道”。
    *   **任务自动生成**: KR 会被进一步分解为每周/每日的可执行任务列表。
*   **智能学习与问答**
    *   **7x24 智能问答**: 基于学院知识库（RAG），解答课程疑问、调试代码、解释概念。
    *   **资源智能推荐**: 根据当前学习任务和知识薄弱点，推送最相关的学习资料（视频、文档、项目案例）。
    *   **错题本与复习规划**: 自动整理练习和作业中的错题，并根据艾宾浩斯遗忘曲线智能安排复习提醒。
*   **学习过程无感记录**
    *   **成果自动汇总**: 自动整理学习笔记、代码提交、项目文档，一键生成学习周报或作品集。
    *   **行为分析与反馈**: 识别学习疲劳、注意力分散等状态，提供友善的改进建议。
*   **与 AIP 平台联动**
    *   在平台内可直接查看和关联 AIP 中的实践项目，将理论学习与项目 KR 直接挂钩。

#### 4.2 教师层：AI 超级教学助理

*   **学生全景仪表盘**
    *   **个体学生画像**: 查看每个学生的 OKR 进度、能力雷达图、知识点掌握情况、近期学习活跃度。
    *   **班级群体分析**: 宏观展示班级整体的 OKR 完成度、学习进度分布、普遍性知识难点。
*   **智能教学辅助**
    *   **AI 自动批改**: 自动批改客观题和编程题，对主观题提供评分参考和共性问题分析。
    *   **智能预警系统**: AI 自动识别学业风险学生（如进度严重滞后、连续作业不佳），并向教师发送提醒。
    *   **个性化指导建议**: AI 为每位需要关注的学生生成针对性的指导建议和沟通切入点。
*   **课程管理与优化**
    *   **课程 OKR 设定**: 将教学大纲转化为课程 OKR，并将其关联到学生的个人 OKR。
    *   **教学效果评估**: AI 基于学生数据分析教学方法的有效性，为课程内容迭代提供建议。

#### 4.3 学院层：AI 智能决策中心

*   **学院运营驾驶舱**
    *   **全局学情监控**: 实时查看全院的 OKR 达成率、师生活跃度、热门课程、预警事件统计。
    *   **教学质量评估**: 多维度、数据化评估教师教学效果和课程质量。
*   **资源优化与决策支持**
    *   **教师负荷分析**: 评估教师工作饱和度，为合理分配教学任务提供依据。
    *   **培养方案优化**: 分析学生能力发展趋势与就业市场需求的匹配度，为教学改革和课程体系优化提供建议。

---

### 网页层级结构 (Markdown 格式)

```markdown
# AIO 智能教育平台

## ─ / (公共页面)
- /login (登录页)
- /register (注册页)
- /forgot-password (忘记密码)

## ─ /app (应用主入口，根据角色动态渲染)

### -------------------- 学生视图 --------------------

- **dashboard (我的仪表盘)**
  - **核心指标**: 今日任务、本周 OKR 进度、即将到期的DDL。
  - **消息与通知**: 教师公告、AI 提醒、任务评论@。
  - **最近活动**: 最近的学习记录和项目动态。

- **pdp (个人发展计划)**
  - /current (本期 OKR 看板)
    - 以卡片形式展示 Objectives 和 Key Results。
    - 可视化进度条、燃尽图。
  - /archive (往期回顾)
    - 查看历史学期的 OKR 完成情况和 AI 复盘建议。

- **tasks (我的任务)**
  - /list (列表视图)
  - /calendar (日历视图)
  - /board (看板视图：待办、进行中、已完成)

- **kb (知识库)**
  - 按课程/主题分类的文档树。
  - 全局检索引擎（由 RAG 驱动）。

- **projects (我的项目)**
  - (深度集成或跳转至 AIP 平台)
  - 展示与当前学习计划关联的项目列表和状态。

### -------------------- 教师视图 --------------------

- **dashboard (教师仪表盘)**
  - **核心指标**: 所带班级整体进度、今日预警学生数、待批改作业。
  - **快捷入口**: 发布公告、创建课程 OKR。

- **classes (班级管理)**
  - /{classId}/overview (班级概览)
    - 整体 OKR 进度、成绩分布、知识点掌握雷达图。
  - /{classId}/students (学生列表)
    - 点击学生可进入 **学生个人全景视图**。
  - /{classId}/assignments (作业与考核)
    - 发布作业、查看 AI 批改报告和共性问题分析。
  - /{classId}/content (课程内容)
    - 管理课程资料（上传后自动被 n8n 处理并索引）。
    - 设定课程 OKR。

### -------------------- 学院管理员视图 --------------------

- **dashboard (学院驾驶舱)**
  - 全院关键数据可视化（学生总数、活跃度、平均 OKR 完成率等）。
  - 教学质量与资源利用率分析图表。

- **management (综合管理)**
  - /students (学生管理)
  - /teachers (教师管理)
  - /courses (课程体系管理)

- **settings (系统设置)**
  - 角色与权限配置。
  - 与 AIP 等外部系统集成配置。

### -------------------- 全局组件 --------------------

- **[右下角] AI 助手悬浮窗**
  - 点击展开全屏对话界面。
  - 对话上下文会根据用户当前所在的页面自动切换（如在课程页，AI 自动聚焦于该课程知识）。
```